<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			//selector 
			//listener
			//emitter
			$("#send_message").submit(function(){
				var new_message = $("#send_message").find("textarea").val();
				$("#sent_messages").append("<p class='message_block'>"+
					"<span class='message'>"+new_message+"</span>"+
					"<span class='delete'>x</span>"+ 
				"</p>");

				return false;
			});
			
			$("#sent_messages").on("click", "p.message_block span.delete", function(){
				$(this).parent().fadeOut();
			});

			$("#sent_messages").on("click", "p.message_block span.message", function(){
				message_block = $(this);
				posted_text = message_block.text();
		
				$(this).replaceWith("<textarea>"+posted_text+"</textarea>");
			});

			//$("#sent_messages").on("blur",)

			$("textarea").val("john");

		});
	</script>
	<style type="text/css">
		*{
			font-family: arial;
		}

		body {
			width: 800px;
			margin: 0px auto;
			border: 1px solid #ddd;
		}	

		form {
			
	
		}

		textarea {
			width: 650px;
			display: inline-block;
			vertical-align: top;
		}

		form input[type=submit] {
			margin-left: 10px;
			display: inline-block;
			vertical-align: top;
			width: 100px;
			padding: 10px;
		}

		p {
			border-radius: 5px;
			padding: 5px;
			max-width: 300px;
			color: white;
			background: #123456;
		}

		p span.delete {
			color: white;
			font-size: 9px;
			float: right;
			margin-top: 4px;
			cursor: pointer;
		}

		p textarea {
			max-width: 280px;
		}
	</style>
</head>
<body>
	<div id="chats">
		<div id="sent_messages">
			<!--p>
				<span class="text_message">test</span>
				<span class="delete">x</span>
			</p-->
		</div>
		<form id="send_message">
			<textarea></textarea>
			<input type="submit" value="Send">
		</form>
	</div>
</body>
</html>